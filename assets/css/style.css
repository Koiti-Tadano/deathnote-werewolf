/* Notebook-inspired dark theme */
:root{
  --bg:#0f0f10;
  --paper:#141519;
  --ink:#e6e6e6;
  --muted:#a8acb3;
  --accent:#bb2b2b;
  --accent-2:#3a7bd5;
  --card:#1a1c22;
  --line:#2a2d35;
  --shadow:rgba(0,0,0,.3);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", "Meiryo", sans-serif;
  font-size: 16px;
  line-height: 1.7;
  background: radial-gradient(1200px 600px at 10% -10%, #16181e, var(--bg)),
              linear-gradient(180deg, #0c0d10, var(--bg));
  color:var(--ink);
}

/* リンク */
a{color:var(--accent-2);text-decoration:none}
a:hover{text-decoration:underline}

/* レイアウト系 */
.container{max-width:1000px;margin:0 auto;padding:24px}
.nav{
  position:sticky;top:0;z-index:9;
  backdrop-filter:saturate(140%) blur(8px);
  background:rgba(10,10,12,.6);
  border-bottom:1px solid var(--line);
}
.nav-inner{display:flex;gap:16px;align-items:center;justify-content:space-between;max-width:1000px;margin:0 auto;padding:12px 24px}
.brand{display:flex;gap:12px;align-items:center}
.brand .logo{
  width:28px;height:28px;border:1px solid var(--line);border-radius:4px;
  display:grid;place-items:center;background:var(--card);box-shadow:0 2px 6px var(--shadow);
  font-weight:700;color:var(--ink);letter-spacing:.5px
}
.brand .title{font-weight:700}
.menu{display:flex;gap:14px}
.button{
  display:inline-flex;align-items:center;gap:.5em;
  background:linear-gradient(180deg, #20222a, #171a20);
  color:var(--ink);border:1px solid var(--line);border-radius:8px;
  padding:10px 14px;box-shadow:0 2px 8px var(--shadow);
}
.button:hover{filter:brightness(1.1);text-decoration:none}

/* ヒーロー */
.hero{
  padding:64px 0 24px;border-bottom:1px dashed var(--line);
  background:linear-gradient(180deg, rgba(255,255,255,.02), transparent);
}
.hero h1{font-size: clamp(28px, 4vw, 40px);margin:0 0 8px}
.hero p{color:var(--muted);margin:0}

/* グリッドカード */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:24px}
.card{
  background:linear-gradient(180deg, #17191f, #13161b);
  border:1px solid var(--line);border-radius:12px;padding:18px;
  box-shadow:0 3px 12px var(--shadow);
}
.card h3{margin-top:0}

/* 見出し・テキスト */
.kicker{font-size:12px;letter-spacing:.12em;color:var(--muted);text-transform:uppercase}
.section{margin:32px 0}
h1,h2,h3{color:var(--ink);margin:8px 0}
h1{font-size:2em}
h2{font-size:1.6em}
h3{font-size:1.2em}
p{margin-bottom:15px;color:var(--ink)}
.sub{color:var(--muted);margin-top:0}

/* 装飾要素 */
.note{
  border-left:3px solid var(--accent);padding:12px 14px;background:rgba(187,43,43,.08);
  border-radius:6px;margin:16px 0
}
details{
  background:linear-gradient(180deg, #151820, #12141a);
  border:1px solid var(--line);border-radius:10px;padding:10px 12px;margin:10px 0;
}
details > summary{
  cursor:pointer;font-weight:600;color:var(--ink);
  list-style:none;
}
details > summary::-webkit-details-marker{display:none}

hr{border:none;border-top:1px solid var(--line);margin:24px 0}
.footer{color:var(--muted);font-size:13px;padding:40px 0}
kbd{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;background:#111318;border:1px solid var(--line);border-radius:4px;padding:0 6px}
.downloads a{display:inline-block;margin:6px 8px 6px 0}
blockquote{margin:10px 0;padding-left:12px;border-left:3px solid var(--line);color:var(--muted)}
small{color:var(--muted)}

@media (max-width: 600px) {
  .button {
    display: flex;
    justify-content: center; /* 横方向の中央 */
    align-items: center;       
    writing-mode: vertical-rl; /* ← 縦書きにする */
    text-orientation: upright; /* ← 文字を正しい向きで */
    font-size: 14px;           /* 文字を少し小さく（全体9/10相当） */
    padding: 10px 4px;         /* 横幅は細め、縦余白は確保 */
    min-height: 140px;         /* 縦長に調整 */
    min-width: 40px;           /* 横幅を狭く */
  }

  .menu {
    gap: 6px; /* ボタン同士の隙間を少し詰める */
  }
}

/* チャット全体の枠 */
#chatBox {
  background-color: #e2e2e2;   /* 白背景 */
  color: #000;              /* 黒文字 */
  border: 1px solid #ccc;
  padding: 10px;
  margin: 10px 0;
  height: 300px;
  overflow-y: auto;
  list-style: none;
}

/* メッセージリスト */
#messages {
  list-style: none;
  padding: 0;
  margin: 0;
}

#messages li {
  margin: 5px 0;
  padding: 5px;
  display: flex;
  align-items: center;
  border-bottom: 1px solid #eee;
}

/* アイコン部分 */
.message-icon {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: #444;  /* 仮の色 */
  color: #fff;
  font-size: 14px;
  text-align: center;
  line-height: 24px;
  margin-right: 8px;
}

/* プレイヤー名 */
.message-name {
  font-weight: bold;
  margin-right: 6px;
}

/* ルームID（右上に小さく） */
#roomInfo {
  text-align: right;
  font-size: 12px;
  color: #666;
  margin-bottom: 5px;
}

/* モーダルの背景 */
.modal {
  display: none; /* 初期は非表示 */
  position: fixed;
  z-index: 1000; /* チャットより前に表示 */
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.6); /* 半透明の黒背景 */
}

/* モーダル内のコンテンツ */
.modal-content {
  background-color: #fff;
  color: #000;
  margin: 5% auto;
  padding: 20px;
  border-radius: 6px;
  width: 80%;
  max-height: 80%;
  overflow-y: auto;
  position: relative;
}

/* 閉じるボタン */
.close-btn {
  position: absolute;
  top: 8px;
  right: 12px;
  font-size: 20px;
  cursor: pointer;
}

/* モーダル内の文字は白にする */
#rulesModal .rules-body {
  color: #fff;
  background: #111; /* 背景も少し明るい黒にして読みやすく */
  padding: 16px;
  border-radius: 8px;
  max-height: 80vh;   /* 画面からはみ出さないように */
  overflow-y: auto;   /* スクロール可能にする */
}

#rulesModal h2 {
  color: #000; /* タイトルは黒文字 */
  margin-top: 0;
}

#rulesModal .rules-note {
  color: #ff00ff; /* 注意書きはピンクとかに */
}

/* style.css に追加 */
#topRightButtons {
  position: absolute;
  top: 10px;
  right: 10px;
}

.side-panel {
  display: none;
  position: absolute;
  top: 50px;
  right: 10px;
  width: 250px;
  background: #222;
  border: 1px solid #555;
  padding: 10px;
  z-index: 1000;
}

.card {
  border: 1px solid #999;
  background: #333;
  padding: 8px;
  margin: 5px 0;
  border-radius: 4px;
  width: 200px;
  height: 100px; /* 縦横比だいたい1:2 */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.card small {
  text-align: right;
  font-size: 10px;
  opacity: 0.7;
}


#topRightButtons {
  margin-top: 10rem;   /* 上に余白 */
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end; /* 右寄せ */
}
/* 行全体 */
.msg-row {
  display: flex;
  align-items: flex-end;
  margin: 6px 0;
  font-size: 0.9rem;
}

/* 左右寄せ */
.msg-row.other { justify-content: flex-start; }
.msg-row.self  { justify-content: flex-end; }

/* 名前＋吹き出しの縦並び */
.msg-content {
  display: flex;
  flex-direction: column;
  /* アイコン幅(28) + マージン(12) を差し引いて最大幅を取る */
  max-width: calc(100% - 48px);
  box-sizing: border-box;
}

/* 他人は左揃え、自己は右揃え */
.msg-row.other .msg-content { align-items: flex-start; }
.msg-row.self  .msg-content { align-items: flex-end; }

/* アイコン */
.icon {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #cfcfcf;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  margin: 0 6px;
  flex-shrink: 0;
}

/* 名前（吹き出しの上） */
.msg-name {
  font-size: 0.75rem;
  color: #666;
  margin-bottom: 4px;
}

/* 吹き出し */
.bubble {
  display: inline-block;
  padding: 8px 12px;
  border-radius: 16px;
  /* 1行に収まる最大文字数を 15ch に設定 */
  max-width: 25ch;
  min-width: 2ch;       /* 1〜2文字のときも変に潰れないように */
  
  /* 自然な改行制御 */
  white-space: pre-wrap;      /* 手動改行は尊重 */
  overflow-wrap: break-word;  /* 単語が長い場合だけ折返し */
  word-break: keep-all;       /* 日本語はできるだけ単語単位で改行 */
  box-sizing: border-box;
}
}

/* 色 */
.msg-row.other .bubble { background: #fff; border: 1px solid #ddd; color: #000; }
.msg-row.self  .bubble { background: #9de47f; color: #000; }

/* システムメッセージ */
.system-message {
  text-align: center;
  color: #888;
  font-size: 0.85rem;
  margin: 8px 0;
}

.role-display {
  font-weight: bold;
  margin: 8px 0;
  padding: 6px;
  border: 1px solid #888;
  border-radius: 6px;
  background: #222;
  color: #fff;
  text-align: center;
}
