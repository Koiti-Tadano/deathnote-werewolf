<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>プレイ | デスノート人狼（非公式）</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <script defer src="assets/config.js"></script>
  <script defer src="assets/script.js"></script>
</head>
<body>
  <div class="nav">
    <div class="nav-inner">
      <div class="brand">
        <div class="logo">DN</div>
        <div class="title">デスノート人狼（非公式）</div>
      </div>
      <details class="nav-accordion">
       <summary>メニュー</summary> 
  <div class="menu">
        <a class="button" href="index.html"><strong>ゲームを終了</strong></a>
        <button class="button" id="openRules"><strong>ルールを参照</strong></button>
  </div>
      </details>
    </div>
  </div>

<h1>部屋チャット</h1>
<div id="roomInfo"></div>  <!-- ルームID表示用 -->

<div id="chatBox">
  <ul id="messages"></ul>
</div>
<input id="msgInput" placeholder="メッセージを入力">
<button id="sendBtn">送信</button>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <!-- 自作スクリプト -->
  <script src="assets/js/firebase-config.js"></script>
  <script src="assets/js/chat.js"></script>

<!-- モーダル（非表示のルール画面） -->
<div id="rulesModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="closeRules">&times;</span>
    <h2>ルール</h2>
    <div id="rulesContent" class="rules-body">
      <!-- ここに rules.html をJSで読み込んで表示 -->
    </div>
  </div>
</div>

<script>
document.getElementById("openRules").addEventListener("click", async () => {
  try {
    const res = await fetch("rules.html");      // rules.htmlを取得
    const text = await res.text();              // 中身を文字列で読む
    document.getElementById("rulesContent").innerHTML = text; // モーダルに差し込む
    document.getElementById("rulesModal").style.display = "block"; // モーダル表示
  } catch (e) {
    document.getElementById("rulesContent").innerHTML = "<p>ルールを読み込めませんでした。</p>";
  }
});

document.getElementById("closeRules").addEventListener("click", () => {
  document.getElementById("rulesModal").style.display = "none";
});
</script>


</body>
</html>
